============================= test session starts =============================
platform win32 -- Python 3.11.0, pytest-7.4.0, pluggy-1.5.0 -- C:\Users\SEDUC\Desktop\PROJETOS\omni_gerador_artigos\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: D:\PROJETOS\SISTEMAS
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-0.21.1, cov-4.1.0, mock-3.11.1
asyncio: mode=Mode.STRICT
collecting ... collected 213 items

tests\unit\test_backup.py::test_backup_cria_zip PASSED                   [  0%]
tests\unit\test_celery_worker.py::test_gerar_artigos_task_sucesso PASSED [  0%]
tests\unit\test_celery_worker.py::test_gerar_artigos_task_falha PASSED   [  1%]
tests\unit\test_celery_worker.py::test_gerar_artigos_task_multi PASSED   [  1%]
tests\unit\test_celery_worker.py::test_gerar_artigos_multi_task PASSED   [  2%]
tests\unit\test_chaos.py::test_simulate_api_failure PASSED               [  2%]
tests\unit\test_chaos.py::test_simulate_disk_failure PASSED              [  3%]
tests\unit\test_chaos.py::test_simulate_redis_failure PASSED             [  3%]
tests\unit\test_chaos.py::test_simulate_redis_failure_exception PASSED   [  4%]
tests\unit\test_chaos.py::test_simulate_disk_failure_exception PASSED    [  4%]
tests\unit\test_chaos.py::test_main_argumentos_invalidos PASSED          [  5%]
tests\unit\test_chaos.py::test_main_redis PASSED                         [  5%]
tests\unit\test_chaos.py::test_main_api PASSED                           [  6%]
tests\unit\test_chaos.py::test_main_disk PASSED                          [  6%]
tests\unit\test_chaos.py::test_run_as_main PASSED                        [  7%]
tests\unit\test_config.py::test_config_variaveis_ambiente PASSED         [  7%]
tests\unit\test_controller.py::test_generate_article_openai PASSED       [  7%]
tests\unit\test_controller.py::test_generate_article_deepseek PASSED     [  8%]
tests\unit\test_controller.py::test_generate_article_nao_suportado PASSED [  8%]
tests\unit\test_controller.py::test_generate_article_gateway_excecao PASSED [  9%]
tests\unit\test_controller.py::test_generate_article_custom_gateway PASSED [  9%]
tests\unit\test_controller.py::test_generate_article_gateways_vazio PASSED [ 10%]
tests\unit\test_deepseek_gateway.py::test_generate_article_deepseek_success PASSED [ 10%]
tests\unit\test_deepseek_gateway.py::test_generate_article_deepseek_http_error PASSED [ 11%]
tests\unit\test_deepseek_gateway.py::test_generate_article_deepseek_httperror PASSED [ 11%]
tests\unit\test_feedback.py::test_save_and_list_feedback PASSED          [ 12%]
tests\unit\test_feedback.py::test_save_feedback_duplicate PASSED         [ 12%]
tests\unit\test_feedback.py::test_get_feedback_by_article PASSED         [ 13%]
tests\unit\test_feedback.py::test_list_feedbacks_empty PASSED            [ 13%]
tests\unit\test_feedback.py::test_list_feedbacks_ioerror PASSED          [ 14%]
tests\unit\test_feedback.py::test_save_feedback_ioerror PASSED           [ 14%]
tests\unit\test_feedback.py::test_get_best_prompts PASSED                [ 15%]
tests\unit\test_feedback.py::test_get_best_prompts_empty PASSED          [ 15%]
tests\unit\test_feedback.py::test_feedbackentry_valid PASSED             [ 15%]
tests\unit\test_feedback.py::test_feedbackentry_now PASSED               [ 16%]
tests\unit\test_feedback_postgres.py::test_save_and_get_feedback PASSED  [ 16%]
tests\unit\test_feedback_postgres.py::test_save_feedback_multiple PASSED [ 17%]
tests\unit\test_feedback_postgres.py::test_get_feedbacks_empty PASSED    [ 17%]
tests\unit\test_feedback_routes.py::test_submit_feedback_ok PASSED       [ 18%]
tests\unit\test_feedback_routes.py::test_submit_feedback_duplicate PASSED [ 18%]
tests\unit\test_feedback_routes.py::test_submit_feedback_invalid PASSED  [ 19%]
tests\unit\test_feedback_routes.py::test_get_feedback PASSED             [ 19%]
tests\unit\test_feedback_routes.py::test_submit_feedback_duplicate_cobertura PASSED [ 20%]
tests\unit\test_logger.py::test_json_formatter_success_event PASSED      [ 20%]
tests\unit\test_logger.py::test_json_formatter_error_event PASSED        [ 21%]
tests\unit\test_logger.py::test_get_logger_returns_logger PASSED         [ 21%]
tests\unit\test_logger.py::test_export_metrics_json PASSED               [ 22%]
tests\unit\test_logger.py::test_json_formatter_pipeline_event PASSED     [ 22%]
tests\unit\test_logger.py::test_json_formatter_pipeline_multi_event PASSED [ 23%]
tests\unit\test_main.py::test_index PASSED                               [ 23%]
tests\unit\test_main.py::test_api_create_and_list_blog PASSED            [ 23%]
tests\unit\test_main.py::test_api_create_blog_invalid FAILED             [ 24%]
tests\unit\test_main.py::test_api_delete_blog PASSED                     [ 24%]
tests\unit\test_main.py::test_api_add_and_list_prompt PASSED             [ 25%]
tests\unit\test_main.py::test_api_add_prompt_invalid FAILED              [ 25%]
tests\unit\test_main.py::test_api_delete_prompt PASSED                   [ 26%]
tests\unit\test_main.py::test_error_response PASSED                      [ 26%]
tests\unit\test_main.py::test_generate_sucesso PASSED                    [ 27%]
tests\unit\test_main.py::test_generate_erro_instancias PASSED            [ 27%]
tests\unit\test_main.py::test_generate_erro_prompts PASSED               [ 28%]
tests\unit\test_main.py::test_generate_api_key_invalida PASSED           [ 28%]
tests\unit\test_main.py::test_download_sucesso FAILED                    [ 29%]
tests\unit\test_main.py::test_download_erro PASSED                       [ 29%]
tests\unit\test_main.py::test_download_multi_sucesso FAILED              [ 30%]
tests\unit\test_main.py::test_download_multi_erro PASSED                 [ 30%]
tests\unit\test_main.py::test_export_prompts_sucesso FAILED              [ 30%]
tests\unit\test_main.py::test_export_prompts_erro FAILED                 [ 31%]
tests\unit\test_main.py::test_sentry_init PASSED                         [ 31%]
tests\unit\test_main.py::test_main_func PASSED                           [ 32%]
tests\unit\test_main.py::test_generate_pipeline_multi_erro PASSED        [ 32%]
tests\unit\test_main.py::test_generate_pipeline_simples_erro PASSED      [ 33%]
tests\unit\test_main.py::test_generate_erro_geral PASSED                 [ 33%]
tests\unit\test_main.py::test_download_file_not_found PASSED             [ 34%]
tests\unit\test_main.py::test_download_multi_file_not_found PASSED       [ 34%]
tests\unit\test_main.py::test_export_prompts_erro_leitura FAILED         [ 35%]
tests\unit\test_main.py::test_export_artigos_csv_erro FAILED             [ 35%]
tests\unit\test_main.py::test_status_not_found FAILED                    [ 36%]
tests\unit\test_main.py::test_webhook_register PASSED                    [ 36%]
